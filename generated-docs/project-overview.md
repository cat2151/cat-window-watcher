Last updated: 2025-12-31

# Project Overview

## プロジェクト概要
- アクティブなウィンドウを監視し、生産性を可視化するシンプルなデスクトップツールです。
- 設定可能な正規表現パターンに基づき、作業内容に応じてスコアがリアルタイムで増減します。
- 集中力を促し、猫が見守るようにユーザーのモチベーションをサポートします。

## 技術スタック
- フロントエンド: **tkinter** (Python標準のGUIライブラリで、シンプルでクリーンなユーザーインターフェースを提供します。)
- 音楽・オーディオ: (該当する技術はありません。)
- 開発ツール: **Git** (バージョン管理システム)、**ruff** (Pythonコードのフォーマットとリンティングツール)、**pre-commit** (コミット前に自動でコードチェックを行うためのフレームワーク)、**unittest**, **pytest** (Pythonのテストフレームワーク)、**.editorconfig** (異なるエディタ間でのコーディングスタイル統一のための設定ファイル)、**VS Code** (`.vscode/settings.json`から推測される開発環境の設定)。
- テスト: **unittest** (Python標準の単体テストフレームワーク)、**pytest** (より高機能で柔軟なテストフレームワーク)。
- ビルドツール: (Pythonスクリプトとして直接実行されるため、特定のビルドツールは使用されていません。)
- 言語機能: **Python 3.12+** (プロジェクトの基盤となるプログラミング言語とそのバージョンです。)
- 自動化・CI/CD: **pre-commit** (コミット前に自動でコードフォーマットやリンティングを実行し、コード品質を維持します。)
- 開発標準: **ruff** (コードスタイルの一貫性と品質を保証するためのリンティングおよびフォーマット)、**.editorconfig** (プロジェクト全体で統一されたコーディングスタイルを適用します)。

## ファイル階層ツリー
```
📄 .editorconfig
📄 .gitignore
📄 .pre-commit-config.yaml
📁 .vscode/
  📊 settings.json
📄 LICENSE
📖 README.ja.md
📖 README.md
📄 _config.yml
📄 config.toml.example
📁 examples/
  📄 example.txt
📁 generated-docs/
📁 issue-notes/
  📖 11.md
  📖 12.md
  📖 13.md
  📖 14.md
  📖 15.md
  📖 16.md
  📖 21.md
  📖 26.md
  📖 27.md
  📖 29.md
  📖 31.md
  📖 33.md
  📖 34.md
  📖 37.md
  📖 39.md
  📖 4.md
  📖 40.md
  📖 6.md
  📖 8.md
  📖 9.md
📄 pytest.ini
📄 ruff.toml
📁 src/
  📄 __init__.py
  📄 __main__.py
  📄 config.py
  📄 gui.py
  📄 main.py
  📄 score_tracker.py
  📄 window_monitor.py
📁 tests/
  📄 test_config.py
  📄 test_dummy.py
  📄 test_gui.py
  📄 test_score_colors.py
  📄 test_score_tracker.py
  📄 test_window_monitor.py
```

## ファイル詳細説明
- **`.editorconfig`**: 異なるエディタやIDEを使用する開発者間で、インデントスタイルや文字コードなどの基本的なコーディングスタイルを統一するための設定ファイルです。
- **`.gitignore`**: Gitがバージョン管理の対象としないファイルやディレクトリを指定します。一時ファイルや生成物などが含まれます。
- **`.pre-commit-config.yaml`**: `pre-commit`フレームワークの設定ファイル。コミット前に自動でコードフォーマットやリンティングなどのチェックを実行し、コード品質を維持します。
- **`.vscode/settings.json`**: VS Codeエディタ固有の設定ファイルで、プロジェクトの推奨設定（例えば、Pythonのリンター設定など）を定義します。
- **`LICENSE`**: プロジェクトのライセンス情報が記載されており、ソフトウェアの使用、配布、改変に関する条件を定めます。
- **`README.ja.md`**, **`README.md`**: プロジェクトの概要、機能、インストール方法、使用方法などを説明するドキュメントです。それぞれ日本語版と英語版です。
- **`_config.yml`**: GitHub Pagesなどで静的サイトを生成する際に使用される設定ファイルです。
- **`config.toml.example`**: ユーザーが`config.toml`を作成する際のテンプレートとなる設定ファイルの例です。ウィンドウパターンやスコア設定のカスタマイズ方法が示されています。
- **`examples/example.txt`**: プロジェクトで使用される可能性のある、追加の例やサンプルデータを含むファイルです。
- **`generated-docs/`**: 自動生成されたドキュメントやレポートを格納するためのディレクトリです。
- **`issue-notes/`**: 開発中に発生した特定の課題や問題に関するメモや詳細を保管するディレクトリです。
- **`pytest.ini`**: Pythonのテストフレームワークであるpytestの設定ファイルです。
- **`ruff.toml`**: Pythonの高速リンターおよびフォーマッターであるruffの設定ファイルです。コードの品質と一貫性を保つためのルールが定義されています。
- **`src/__init__.py`**: `src`ディレクトリがPythonのパッケージであることを示すファイルです。
- **`src/__main__.py`**: `python -m src` コマンドでプロジェクトを実行した際のエントリーポイントとなるファイルです。
- **`src/config.py`**: TOML形式の設定ファイルを読み込み、アプリケーション全体で利用可能な設定オブジェクトとして管理するモジュールです。
- **`src/gui.py`**: `tkinter`ライブラリを使用して、現在のスコアやアクティビティを表示するグラフィカルユーザーインターフェース（GUI）を構築・管理するモジュールです。
- **`src/main.py`**: アプリケーションのメインエントリーポイントであり、設定の読み込み、ウィンドウ監視の開始、スコアトラッカーとGUIの連携など、全体のオーケストレーションを担います。
- **`src/score_tracker.py`**: ウィンドウタイトルを定義されたパターン（正規表現）と照合し、それに基づいてスコアを計算・追跡するロジックを管理するモジュールです。
- **`src/window_monitor.py`**: 現在アクティブなウィンドウのタイトルを、各オペレーティングシステム（Linux, macOS, Windows）に適した方法で取得するクロスプラットフォーム対応のモジュールです。
- **`tests/`**: プロジェクトの各モジュールに対する単体テストや統合テストを含むディレクトリです。
    - **`tests/test_config.py`**: `config.py`モジュールの機能（設定ファイルの読み込み、パースなど）をテストします。
    - **`tests/test_dummy.py`**: プロジェクト初期段階や簡単なテストに使用されるダミーのテストファイルです。
    - **`tests/test_gui.py`**: `gui.py`モジュールの機能（GUIの表示、更新など）をテストします。
    - **`tests/test_score_colors.py`**: スコアの表示色に関するロジックをテストします。
    - **`tests/test_score_tracker.py`**: `score_tracker.py`モジュールの機能（スコア計算、パターンマッチングなど）をテストします。
    - **`tests/test_window_monitor.py`**: `window_monitor.py`モジュールの機能（ウィンドウタイトルの取得など）をテストします。

## 関数詳細説明
このプロジェクトの各モジュールには、それぞれの役割を果たすための関数が含まれています。具体的な関数名はコードの詳細が提供されていないため特定できませんが、主要な機能は以下の通りです。

- **設定管理関連関数 (src/config.py)**:
    - **役割**: TOML形式の設定ファイルを読み込み、パースし、アプリケーションで使用するための設定データ構造を提供します。
    - **機能**: 設定ファイルのパス指定、デフォルト値の設定、設定値の取得・検証を行います。
- **ウィンドウ監視関連関数 (src/window_monitor.py)**:
    - **役割**: 現在アクティブなウィンドウのタイトルを取得します。
    - **機能**: 各OS（Linux, macOS, Windows）のネイティブAPIやコマンドを利用して、システムからウィンドウ情報を効率的に取得します。
- **スコア追跡関連関数 (src/score_tracker.py)**:
    - **役割**: 取得したウィンドウタイトルを設定済みの正規表現パターンと照合し、それに応じてスコアを増減させます。
    - **機能**: パターンマッチングロジック、スコアの計算と更新、スコアのリセット、ウィンドウの最前面表示制御（設定に基づく）などを行います。
- **GUI表示関連関数 (src/gui.py)**:
    - **役割**: `tkinter`を用いて、現在のスコアやアクティビティをユーザーインターフェース上に表示します。
    - **機能**: GUIウィンドウの作成・表示、スコアやステータスメッセージのリアルタイム更新、マウス接近検知やウィンドウの最前面/最背面切り替えなどのユーザーインタラクションを処理します。
- **アプリケーション実行関連関数 (src/main.py)**:
    - **役割**: アプリケーションの開始から終了までの全体の流れを制御します。
    - **機能**: コマンドライン引数の解析、各モジュールの初期化と連携、定期的な更新処理（メインループ）の実行を行います。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析できませんでした。

---
Generated at: 2025-12-31 07:05:58 JST
